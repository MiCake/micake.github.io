---
title: æ¬¢è¿ä½¿ç”¨ MiCake
description: MiCake æ˜¯ä¸€ä¸ªåŸºäº .NET çš„è½»é‡çº§é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰å·¥å…·åŒ…
template: splash
hero:
  tagline: ğŸš€ å¿«æ·ã€è§„èŒƒã€æ–¹ä¾¿ã€çµæ´»ã€è½»æŸ”çš„ .NET DDD å·¥å…·åŒ…
  image:
    file: ../../assets/houston.webp
  actions:
    - text: å¿«é€Ÿå¼€å§‹ â†’
      link: /getting-started/quick-start/
      icon: right-arrow
      variant: primary
    - text: æŸ¥çœ‹ GitHub
      link: https://github.com/MiCake/MiCake
      icon: external
      variant: secondary
---

import { Card, CardGrid, Tabs, TabItem, Code } from '@astrojs/starlight/components';

## å¿«é€Ÿå®‰è£…

<Tabs>
  <TabItem label=".NET CLI">
    ```bash
    # å®‰è£… MiCake æ ¸å¿ƒåŒ…
    dotnet add package MiCake.Core
    
    # å®‰è£… ASP.NET Core é›†æˆ
    dotnet add package MiCake.AspNetCore
    
    # å®‰è£… Entity Framework Core é›†æˆ
    dotnet add package MiCake.EntityFrameworkCore
    ```
  </TabItem>
  
  <TabItem label="Package Manager">
    ```powershell
    # å®‰è£… MiCake æ ¸å¿ƒåŒ…
    Install-Package MiCake.Core
    
    # å®‰è£… ASP.NET Core é›†æˆ
    Install-Package MiCake.AspNetCore
    
    # å®‰è£… Entity Framework Core é›†æˆ
    Install-Package MiCake.EntityFrameworkCore
    ```
  </TabItem>
  
  <TabItem label="PackageReference">
    ```xml
    <ItemGroup>
      <PackageReference Include="MiCake.Core" Version="*" />
      <PackageReference Include="MiCake.AspNetCore" Version="*" />
      <PackageReference Include="MiCake.EntityFrameworkCore" Version="*" />
    </ItemGroup>
    ```
  </TabItem>
</Tabs>

## 5 åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹

```csharp title="Program.cs" {3,8-12}
var builder = WebApplication.CreateBuilder(args);

// æ·»åŠ  MiCake æœåŠ¡
builder.Services.AddMiCakeWithDefault<MyAppModule, MyDbContext>(options =>
{
    options.DbConfig = db =>
    {
        db.ConnectionString = builder.Configuration.GetConnectionString("Default");
        db.UseSqlServer();
    };
}).Build();

var app = builder.Build();

// å¯åŠ¨ MiCake
app.StartMiCake();

app.Run();
```

## ä»€ä¹ˆæ˜¯ MiCakeï¼Ÿ

**MiCake** æ˜¯ä¸€ä¸ªåŸºäº .NET å¼€å‘çš„è½»é‡çº§é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰å·¥å…·åŒ…ã€‚å®ƒæ—¨åœ¨å¸®åŠ©å¼€å‘è€…å¿«é€Ÿå°†ç°æœ‰é¡¹ç›®è½¬æ¢ä¸º DDD é£æ ¼ï¼ŒåŒæ—¶ä¿æŒä»£ç çš„ç®€æ´æ€§å’Œçµæ´»æ€§ã€‚

### âœ¨ ä¸ºä»€ä¹ˆé€‰æ‹© MiCakeï¼Ÿ

- ğŸ¯ **ä¸“æ³¨é¢†åŸŸé€»è¾‘** - æä¾›å®Œæ•´çš„ DDD æˆ˜æœ¯æ¨¡å¼æ”¯æŒï¼Œè®©ä½ ä¸“æ³¨äºä¸šåŠ¡ä»£ç 
- ğŸ”Œ **éä¾µå…¥å¼è®¾è®¡** - è½»æ¾é›†æˆåˆ°ç°æœ‰é¡¹ç›®ï¼Œä¸æ”¹å˜åŸæœ‰æ¶æ„
- ğŸ“¦ **æ¨¡å—åŒ–æ¶æ„** - æŒ‰éœ€ä½¿ç”¨ï¼Œçµæ´»ç»„åˆå„ç§åŠŸèƒ½æ¨¡å—
- ğŸš€ **å¼€ç®±å³ç”¨** - ä¸°å¯Œçš„å·¥å…·é›†å’Œæœ€ä½³å®è·µï¼ŒåŠ é€Ÿå¼€å‘æ•ˆç‡
- ğŸ“š **å®Œå–„æ–‡æ¡£** - è¯¦ç»†çš„ä½¿ç”¨æŒ‡å—å’Œä»£ç ç¤ºä¾‹

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

<CardGrid stagger>
  <Card title="ğŸ—ï¸ DDD æˆ˜æœ¯æ¨¡å¼" icon="puzzle">
    **å®Œæ•´çš„ DDD æ”¯æŒ**
    
    - âœ… å®ä½“ (Entity)
    - âœ… å€¼å¯¹è±¡ (Value Object)
    - âœ… èšåˆæ ¹ (Aggregate Root)
    - âœ… ä»“å‚¨ (Repository)
    - âœ… é¢†åŸŸäº‹ä»¶ (Domain Event)
    - âœ… é¢†åŸŸæœåŠ¡ (Domain Service)
    - âœ… å·¥ä½œå•å…ƒ (Unit of Work)
  </Card>
  
  <Card title="âš¡ è‡ªåŠ¨åŒ–åŠŸèƒ½" icon="rocket">
    **å¼€ç®±å³ç”¨çš„ä¼ä¸šçº§åŠŸèƒ½**
    
    - ğŸ”„ è‡ªåŠ¨å®¡è®¡ï¼ˆåˆ›å»º/ä¿®æ”¹æ—¶é—´å’Œäººï¼‰
    - ğŸ—‘ï¸ è½¯åˆ é™¤æ”¯æŒ
    - ğŸ¯ ç»Ÿä¸€è¿”å›æ ¼å¼
    - ğŸš¨ å…¨å±€å¼‚å¸¸å¤„ç†
    - ğŸ’‰ ä¾èµ–æ³¨å…¥å¢å¼º
  </Card>
  
  <Card title="ğŸ› ï¸ å®ç”¨å·¥å…·é›†" icon="seti:config">
    **ä¸°å¯Œçš„å·¥å…·ç±»åº“**
    
    - ğŸ—„ï¸ LRU ç¼“å­˜
    - ğŸ”„ ç±»å‹è½¬æ¢å™¨
    - ğŸ” åŠ¨æ€æŸ¥è¯¢æ„å»ºå™¨
    - ğŸ”Œ ç†”æ–­å™¨æ¨¡å¼
    - ğŸ’¾ æ•°æ®å­˜å‚¨æ± 
  </Card>
  
  <Card title="ğŸ“¦ æ¨¡å—åŒ–è®¾è®¡" icon="setting">
    **çµæ´»çš„æ¨¡å—ç³»ç»Ÿ**
    
    - ğŸ§© æŒ‰éœ€åŠ è½½
    - ğŸ”— æ¨¡å—ä¾èµ–ç®¡ç†
    - âš™ï¸ ç”Ÿå‘½å‘¨æœŸé’©å­
    - ğŸ›ï¸ é…ç½®ç®¡ç†
  </Card>
</CardGrid>

## ğŸ’¡ ä»£ç ç¤ºä¾‹

### å®šä¹‰èšåˆæ ¹

```csharp title="Order.cs" {1,3-5,11-17}
public class Order : AggregateRoot<int>
{
    public string OrderNumber { get; private set; }
    public OrderStatus Status { get; private set; }
    public decimal TotalAmount { get; private set; }
    
    private readonly List<OrderItem> _items = new();
    public IReadOnlyCollection<OrderItem> Items => _items.AsReadOnly();
    
    // é¢†åŸŸæ–¹æ³•
    public void Confirm()
    {
        if (Status != OrderStatus.Draft)
            throw new DomainException("åªèƒ½ç¡®è®¤è‰ç¨¿çŠ¶æ€çš„è®¢å•");
            
        Status = OrderStatus.Confirmed;
        RaiseDomainEvent(new OrderConfirmedEvent(Id));
    }
}
```

### ä½¿ç”¨ä»“å‚¨

```csharp title="OrderService.cs" {5,10-11}
public class OrderService : IScopedService
{
    private readonly IRepository<Order, int> _orderRepository;
    
    public async Task<Order> CreateOrder(CreateOrderDto dto)
    {
        var order = Order.Create(dto.CustomerId, dto.Items);
        
        // è‡ªåŠ¨æ³¨å†Œçš„ä»“å‚¨
        await _orderRepository.AddAsync(order);
        await _orderRepository.SaveChangesAsync();
        
        return order;
    }
}
```

### å¤„ç†é¢†åŸŸäº‹ä»¶

```csharp title="OrderConfirmedEventHandler.cs" {1,5-6}
public class OrderConfirmedEventHandler : IDomainEventHandler<OrderConfirmedEvent>
{
    public async Task Handle(OrderConfirmedEvent @event)
    {
        // å‘é€ç¡®è®¤é‚®ä»¶
        await _emailService.SendOrderConfirmation(@event.OrderId);
    }
}
```

## ä¸‹ä¸€æ­¥

<CardGrid>
  <Card title="å¿«é€Ÿå¼€å§‹" icon="rocket">
    æŸ¥çœ‹[å¿«é€Ÿå¼€å§‹æŒ‡å—](/getting-started/quick-start/)ï¼Œåœ¨ 5 åˆ†é’Ÿå†…åˆ›å»ºæ‚¨çš„ç¬¬ä¸€ä¸ª MiCake åº”ç”¨ã€‚
  </Card>
  
  <Card title="æ ¸å¿ƒæ¦‚å¿µ" icon="open-book">
    äº†è§£ [MiCake æ ¸å¿ƒæ¦‚å¿µ](/getting-started/core-concepts/)ï¼Œæ·±å…¥ç†è§£æ¡†æ¶è®¾è®¡ç†å¿µã€‚
  </Card>
  
  <Card title="é¢†åŸŸé©±åŠ¨è®¾è®¡" icon="puzzle">
    å­¦ä¹ [é¢†åŸŸé©±åŠ¨è®¾è®¡](/domain-driven/entity/)çš„å®è·µï¼ŒæŒæ¡ DDD æˆ˜æœ¯æ¨¡å¼ã€‚
  </Card>
  
  <Card title="å·¥å…·é›†" icon="seti:config">
    æ¢ç´¢ [MiCake å·¥å…·é›†](/utilities/overview/)ï¼Œä½¿ç”¨ä¸°å¯Œçš„å®ç”¨å·¥å…·ç±»ã€‚
  </Card>
</CardGrid>
